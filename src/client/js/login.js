(function(e){function t(t){for(var o,a,i=t[0],u=t[1],c=t[2],p=0,m=[];p<i.length;p++)a=i[p],r[a]&&m.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={login:0},s=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;s.push([1,"chunk-vendors"]),n()})({1:function(e,t,n){e.exports=n("352f")},"352f":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bC"},[e._m(0),n("div",{staticClass:"pT"},[e._v("\n    "+e._s(e.message)+"\n    "),n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.submitLogin(t)}}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.userName,expression:"form.userName"}],attrs:{type:"text",name:"userName",placeholder:"Username"},domProps:{value:e.form.userName},on:{input:function(t){t.target.composing||e.$set(e.form,"userName",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),"signup"===e.mode?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.displayName,expression:"form.displayName"}],attrs:{type:"text",name:"displayName",placeholder:"Display Name"},domProps:{value:e.form.displayName},on:{input:function(t){t.target.composing||e.$set(e.form,"displayName",t.target.value)}}})]):e._e(),n("div",[n("input",{staticClass:"redBtn",attrs:{type:"submit"},domProps:{value:"login"===e.mode?"Log In":"Create account"}})])]),n("div",["login"===e.mode?n("span",{domProps:{textContent:e._s("Sign Up")},on:{click:function(t){e.mode="signup"}}}):e._e(),"signup"===e.mode?n("span",{domProps:{textContent:e._s("Log in")},on:{click:function(t){e.mode="login"}}}):e._e()])])])},s=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pT"},[o("img",{attrs:{src:n("9b19")}}),o("span",[e._v("Azito Accounts")])])}],a=n("aa49"),i=n("5118"),u={name:"Login",data:function(){return{form:{userName:null,password:null},mode:"login",message:null}},mounted:function(){this.initWebSocket(),this.$route.query.serurl||(this.$route.query.serurl="/accounts")},methods:{initWebSocket:function(){var e=this,t="ws://hari:3000",n=new WebSocket(t);n.onerror=function(e){console.log("WebSocket error: ".concat(e))},n.onmessage=function(t){console.log("WebSocket Message: ".concat(t.data));var n=JSON.parse(t.data);"IAM"==n.from&&"IAM_1"==n.code&&(window.location.href=e.$route.query.serurl)}},submitLogin:function(){null!=this.form.userName&&this.form.userName.length>0&&this.form.password&&this.form.password.length>0?Object(a["a"])({url:"/auth/"+this.mode,method:"POST",params:"userName="+this.form.userName+"&password="+this.form.password+(this.$route.query.serurl?"&serurl="+this.$route.query.serurl:"")+(this.form.displayName?"&displayName="+this.form.displayName:""),contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).then(function(e){window.location.href=e.redirect}).catch(this.showmsg):this.showmsg({message:"Username and password cannot be empty"})},showmsg:function(e){var t=this;console.log(e),this.message=e.message,Object(i["setTimeout"])(function(){t.message=null},2e3)}}},c=u,l=(n("d6db"),n("2877")),p=Object(l["a"])(c,r,s,!1,null,null,null),m=p.exports,d=n("8c4f");o["a"].use(d["a"]),o["a"].config.productionTip=!1;var f=new d["a"]({mode:"history"});new o["a"]({router:f,render:function(e){return e(m)}}).$mount("#app")},"9b19":function(e,t,n){e.exports=n.p+"img/logo.svg"},a9e7:function(e,t,n){},aa49:function(e,t,n){"use strict";n.d(t,"a",function(){return s});n("6762"),n("2fdb");var o=n("795b"),r=n.n(o);function s(e){return console.log(e),new r.a(function(t,n){var o=new XMLHttpRequest;o.open(e.method,e.url,!0),o.setRequestHeader("Content-Type",e.contentType),o.onreadystatechange=function(){if(4==o.readyState){var r=null!=o.getResponseHeader("Content-Type")&&o.getResponseHeader("Content-Type").includes("application/json");o.status>=200&&o.status<400?t(r?JSON.parse(o.responseText):o.responseText,o.status,e):n(r?JSON.parse(o.responseText):o.responseText,o.status,e)}},o.send(e.params)})}},d6db:function(e,t,n){"use strict";var o=n("a9e7"),r=n.n(o);r.a}});
//# sourceMappingURL=login.js.map